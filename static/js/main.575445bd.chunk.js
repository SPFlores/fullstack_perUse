(this.webpackJsonpperuse=this.webpackJsonpperuse||[]).push([[0],{34:function(e,t,a){e.exports=a(65)},39:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(31),r=a.n(o),s=(a(39),a(4)),i=a(2),c=a(1),u=a(9),m=function(e){var t=Object(n.useState)({isLoggedIn:!1}),a=Object(u.a)(t,2),o=a[0],r=a[1];return Object(n.useEffect)((function(e){"true"===sessionStorage.getItem("isLoggedIn")?r(Object(c.a)(Object(c.a)({},o),{},{isLoggedIn:!0})):sessionStorage.setItem("isLoggedIn",!1)}),[]),l.a.createElement("div",{className:"mainArea"},l.a.createElement("h1",{id:"mainTitle"},"perUse"),l.a.createElement("p",{id:"landingText"},"Welcome to perUse, the job site for U! Take a look at the jobs we host to see if any of them could be your next best fit! Be sure to sign in (or sign up) to get access to all of our functionality. Happy perUsing!"),l.a.createElement("div",null,l.a.createElement(s.b,{to:"/search"},l.a.createElement("button",{className:"blockButton",id:"searchingButton"},"Search"))))},d=a(6),p=a.n(d),f=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),o=Object(n.useState)({isLoggedIn:!1,failedLoginUsername:!1,failedLoginPassword:!1,token:""}),r=Object(u.a)(o,2),m=r[0],d=r[1];return m.renderRedirect=function(e){if(m.token.length>0)return l.a.createElement(i.a,{to:"/"})},m.handleLogInUser=function(e){if(e.preventDefault(),""===t.current.value&&""===a.current.value)d(Object(c.a)(Object(c.a)({},m),{},{failedLoginUsername:!0,failedLoginPassword:!0})),sessionStorage.setItem("isLoggedIn",!1);else if(""===t.current.value)d(Object(c.a)(Object(c.a)({},m),{},{failedLoginUsername:!0,failedLoginPassword:!1})),sessionStorage.setItem("isLoggedIn",!1);else if(""===a.current.value)d(Object(c.a)(Object(c.a)({},m),{},{failedLoginUsername:!1,failedLoginPassword:!0})),sessionStorage.setItem("isLoggedIn",!1);else{var n={method:"post",url:"https://divercity-test.herokuapp.com/login",data:{username:t.current.value,password:a.current.value}};p()(n).then((function(e){var t=e.data;t.token&&(sessionStorage.setItem("isLoggedIn",!0),sessionStorage.setItem("token",t.token),d(Object(c.a)(Object(c.a)({},m),{},{token:t.token,isLoggedIn:!0})))})).catch((function(e){console.log(e),d(Object(c.a)(Object(c.a)({},m),{},{isLoggedIn:!1}))}))}},l.a.createElement("div",{className:"mainArea"},m.isLoggedIn?m.renderRedirect():null,l.a.createElement("div",null,l.a.createElement("h4",{className:"userPlease"},"Log in to get the most out of perUse!")),l.a.createElement("form",null,l.a.createElement("h5",null,"Login To Your Account"),l.a.createElement("div",null,m.failedLoginUsername?l.a.createElement("p",{style:{color:"#ef6461"}},"Please enter your username!"):null,l.a.createElement("label",{htmlFor:"username"},"Username: "),l.a.createElement("input",{type:"text",id:"username",name:"username",ref:t,className:"usernameEntry"})),l.a.createElement("div",null,m.failedLoginPassword?l.a.createElement("p",{style:{color:"#ef6461"}},"Please enter your password!"):null,l.a.createElement("label",{htmlFor:"password"},"Password: "),l.a.createElement("input",{type:"password",id:"password",name:"password",ref:a,className:"passwordEntry"})),l.a.createElement("button",{onClick:m.handleLogInUser,className:"loginPgBtn"},"Submit")),l.a.createElement("br",null),l.a.createElement("h5",null,"Don't have an account? No problem!"),l.a.createElement(s.b,{to:"/signup"},l.a.createElement("button",{className:"loginPgBtn"},"Sign Up")))},g=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),o=Object(n.useRef)(),r=Object(n.useRef)(),m=Object(n.useState)({isLoggedIn:!1,failedAll:!1,failedSignupName:!1,failedSignupUsername:!1,failedSignupPassword:!1,failedConfirmPassword:!1}),d=Object(u.a)(m,2),f=d[0],g=d[1];return f.renderRedirect=function(e){if(f.isLoggedIn)return l.a.createElement(i.a,{to:"/"})},f.handleSignUpUser=function(e){if(e.preventDefault(),""===t.current.value&&""===a.current.value&&""===o.current.value)g(Object(c.a)(Object(c.a)({},f),{},{failedAll:!0})),sessionStorage.setItem("isLoggedIn",!1);else if(""===t.current.value)g(Object(c.a)(Object(c.a)({},f),{},{failedAll:!1,failedSignupName:!0,failedSignupUsername:!1,failedSignupPassword:!1,failedConfirmPassword:!1})),sessionStorage.setItem("isLoggedIn",!1);else if(""===a.current.value)g(Object(c.a)(Object(c.a)({},f),{},{failedAll:!1,failedSigupName:!1,failedSignupUsername:!0,failedSignupPassword:!1,failedConfirmPassword:!1})),sessionStorage.setItem("isLoggedIn",!1);else if(""===o.current.value)g(Object(c.a)(Object(c.a)({},f),{},{failedAll:!1,failedSignupnName:!1,failedSignupUsername:!1,failedSignupPassword:!0,failedConfirmPassword:!1})),sessionStorage.setItem("isLoggedIn",!1);else if(o.current.value!==r.current.value)g(Object(c.a)(Object(c.a)({},f),{},{failedAll:!1,failedSignupnName:!1,failedSignupUsername:!1,failedSignupPassword:!1,failedConfirmPassword:!0})),sessionStorage.setItem("isLoggedIn",!1);else{var n={method:"post",url:"https://divercity-test.herokuapp.com/register",data:{username:a.current.value,password:o.current.value,name:t.current.value}};p()(n).then((function(e){e.data;var t={method:"post",url:"https://divercity-test.herokuapp.com/login",data:{username:a.current.value,password:o.current.value}};p()(t).then((function(e){var t=e.data;sessionStorage.setItem("isLoggedIn",!0),sessionStorage.setItem("token",t.token),g(Object(c.a)(Object(c.a)({},f),{},{isLoggedIn:!0}))})).catch((function(e){return console.log(e)}))})).catch((function(e){alert("Unable to register!"),console.log(e)}))}},l.a.createElement("div",{className:"mainArea"},f.isLoggedIn?f.renderRedirect():null,l.a.createElement("div",null,l.a.createElement("h4",{className:"userPlease"},"Sign up to get the most out of perUse!")),l.a.createElement("form",null,l.a.createElement("h5",null,"Sign Up For An Account"),l.a.createElement("div",null,f.failedAll?l.a.createElement("p",{style:{color:"#ef6461"}},"Please enter your information!"):null,f.failedSignupName?l.a.createElement("p",{style:{color:"#ef6461"}},"Please enter your name!"):null,l.a.createElement("label",{htmlFor:"name"},"Name: "),l.a.createElement("input",{type:"text",name:"name",ref:t,id:"nameEntry"})),l.a.createElement("div",null,f.failedSignupUsername?l.a.createElement("p",{style:{color:"#ef6461"}},"Please enter your username!"):null,l.a.createElement("label",{htmlFor:"username"},"Username: "),l.a.createElement("input",{type:"text",id:"username",name:"username",ref:a,className:"usernameEntry"})),l.a.createElement("div",null,f.failedSignupPassword?l.a.createElement("p",{style:{color:"#ef6461"}},"Please enter a password!"):null,l.a.createElement("label",{htmlFor:"password"},"Password: "),l.a.createElement("input",{type:"password",id:"password",name:"password",ref:o,className:"passwordEntry"})),l.a.createElement("div",null,f.failedConfirmPassword?l.a.createElement("p",{style:{color:"red"}},"Your passwords do not match!"):null,l.a.createElement("label",{htmlFor:"passwordConf"},"Password: "),l.a.createElement("input",{type:"password",id:"passwordConf",name:"passwordConf",ref:r,className:"passwordEntry"})),l.a.createElement("button",{onClick:f.handleSignUpUser,className:"signupBtn"},"Submit")),l.a.createElement("br",null),l.a.createElement("h5",null,"Already have an account? No problem!"),l.a.createElement(s.b,{to:"/login"},l.a.createElement("button",{className:"signupBtn"},"Login")))},b=a(15),E=function(e){var t=Object(n.useState)({jobs:[],location:!1,locations:[],skills:!1,skills_tags:[],type:!1,types:[],renderCount:0,ableToApply:!1}),a=Object(u.a)(t,2),o=a[0],r=a[1];return Object(n.useEffect)((function(e){"true"===sessionStorage.getItem("isLoggedIn")?r(Object(c.a)(Object(c.a)({},o),{},{ableToApply:!0})):r(Object(c.a)(Object(c.a)({},o),{},{ableToApply:!1}))}),[]),Object(n.useEffect)((function(e){o.jobs.forEach((function(e){return r(Object(c.a)(Object(c.a)({},o),{},{renderCount:o.renderCount+1}))}))}),[o.jobs]),o.handleSearchAll=function(e){p()({method:"get",url:"https://divercity-test.herokuapp.com/jobs"}).then((function(e){var t=e.data;r(Object(c.a)(Object(c.a)({},o),{},{jobs:t.jobs}))})).catch((function(e){return console.log(e)}))},o.locationFilter=function(e){p()({method:"get",url:"https://divercity-test.herokuapp.com/jobs"}).then((function(e){var t=e.data.jobs.map((function(e){return e.location})).filter((function(e){return"undefined"!==typeof e})),a=new Set(t);r(Object(c.a)(Object(c.a)({},o),{},{location:!0,locations:Object(b.a)(a),type:!1,skills:!1}))})).catch((function(e){return console.log(e)}))},o.typeFilter=function(e){p()({method:"get",url:"https://divercity-test.herokuapp.com/jobs"}).then((function(e){var t=e.data.jobs.map((function(e){return e.job_type})).filter((function(e){return"undefined"!==typeof e})),a=new Set(t);r(Object(c.a)(Object(c.a)({},o),{},{location:!1,type:!0,types:Object(b.a)(a),skills:!1}))})).catch((function(e){return console.log(e)}))},o.skillsFilter=function(e){p()({method:"get",url:"https://divercity-test.herokuapp.com/jobs"}).then((function(e){var t=e.data.jobs.map((function(e){return e.skills_tag})),a=[].concat.apply([],t).filter((function(e){return"undefined"!==typeof e})),n=new Set(a);r(Object(c.a)(Object(c.a)({},o),{},{location:!1,type:!1,skills_tags:Object(b.a)(n),skills:!0}))})).catch((function(e){return console.log(e)}))},o.filterJobs=function(e){var t=e.target,a=t.id,n=t.className;p()({method:"get",url:"https://divercity-test.herokuapp.com/jobs"}).then((function(e){var t=e.data;if("location"===n){var l=t.jobs.filter((function(e){return e.location===a}));r(Object(c.a)(Object(c.a)({},o),{},{jobs:l}))}else if("type"===n){var s=t.jobs.filter((function(e){return e.job_type===a}));r(Object(c.a)(Object(c.a)({},o),{},{jobs:s}))}else if("skills"===n){var i=t.jobs.filter((function(e){return e.skills_tag.includes(a)}));r(Object(c.a)(Object(c.a)({},o),{},{jobs:i}))}else alert("Something is not working")})).catch((function(e){return console.log(e)}))},o.getLocationOptions=function(e){var t=o.locations.map((function(e){return l.a.createElement("button",{className:"location",id:e,key:o.locations.indexOf(e),onClick:o.filterJobs},e)}));return l.a.createElement("ul",null,t)},o.getTypeOptions=function(e){var t=o.types.map((function(e){return l.a.createElement("button",{className:"type",id:e,onClick:o.filterJobs,key:o.types.indexOf(e)},e)}));return l.a.createElement("ul",null,t)},o.getSkillOptions=function(e){var t=o.skills_tags.map((function(e){return l.a.createElement("button",{className:"skills",id:e,onClick:o.filterJobs,key:o.skills_tags.indexOf(e)},e)}));return l.a.createElement("ul",null,t)},o.handleApply=function(e){e.preventDefault(),sessionStorage.setItem("jobID",e.target.id),sessionStorage.setItem("title",e.target.dataset.title),window.location.href="/apply"},o.renderCards=function(e){var t=o.jobs.map((function(e){return l.a.createElement("div",{key:e.id,className:"jobCard"},l.a.createElement("h3",{className:"jobCardTitle"},"Title: ",e.title),l.a.createElement("h5",{className:"jobH"},"Company: ",e.company),l.a.createElement("h5",{className:"jobH"},"Type: ",e.job_type),l.a.createElement("h5",{className:"jobH"},"Location: ",e.location),l.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}}),l.a.createElement("p",null,l.a.createElement("strong",null,"Skills:")," ",e.skills_tag.join(", ")),l.a.createElement("p",null,l.a.createElement("strong",null,"Applicant count:")," ",e.applicant_count),o.ableToApply?l.a.createElement("button",{id:e.id,"data-title":e.title,onClick:o.handleApply,className:"applyBtn"},"Apply"):l.a.createElement("div",null,l.a.createElement("p",{style:{color:"#ef6461"}},"Please log in/sign up to apply!"),l.a.createElement(s.b,{to:"/login"},l.a.createElement("button",{className:"notLoggedInBtn"},"Login")),l.a.createElement(s.b,{to:"/signup"},l.a.createElement("button",{className:"notLoggedInBtn"},"Sign Up"))))}));return l.a.createElement("ul",null,t)},l.a.createElement("div",{className:"mainArea"},l.a.createElement("h4",null,"Welcome to our search page!"),l.a.createElement("p",null,"Here you can view all jobs available or sort by location, type, of skills needed. We make it easy to filter for the job right for you--once chosen filter is selected, you will be presented with options for your search, no typing or guessing at keywords necessary."),l.a.createElement("br",null),l.a.createElement("button",{id:"searchAll",onClick:o.handleSearchAll,className:"allJobs blockButton"},"Display All Jobs"),l.a.createElement("br",null),l.a.createElement("h4",null,"Filter jobs by:"),l.a.createElement("button",{id:"locationButton",onClick:o.locationFilter,className:"filterBtn"},"Location"),l.a.createElement("button",{id:"typeButton",onClick:o.typeFilter,className:"filterBtn"},"Type of Job"),l.a.createElement("button",{id:"skillsButton",onClick:o.skillsFilter,className:"filterBtn"},"Skills"),l.a.createElement("br",null),l.a.createElement("br",null),o.location?o.getLocationOptions():o.type?o.getTypeOptions():o.skills?o.getSkillOptions():null,o.renderCount>0?o.renderCards():null)},h=function(e){var t=Object(n.useState)({isLoggedIn:!1,loggedOut:!0}),a=Object(u.a)(t,2),o=a[0],r=a[1];return Object(n.useEffect)((function(e){"true"===sessionStorage.getItem("isLoggedIn")?r(Object(c.a)(Object(c.a)({},o),{},{isLoggedIn:!0,loggedOut:!1})):r(Object(c.a)(Object(c.a)({},o),{},{isLoggedIn:!1,loggedOut:!0}))}),[]),o.handleLogout=function(e){r(Object(c.a)(Object(c.a)({},o),{},{isLoggedIn:!1})),sessionStorage.setItem("isLoggedIn","false"),sessionStorage.setItem("token","")},l.a.createElement("ul",{id:"navBar"},l.a.createElement("li",{className:"navLILeft"},l.a.createElement("a",{className:"navLink",href:"/"},"Home")),l.a.createElement("li",{className:"navLILeft"},l.a.createElement("a",{className:"navLink",href:"/search"},"Search")),o.isLoggedIn?l.a.createElement("li",{className:"navLIRight"},l.a.createElement("a",{className:"navLink",href:"/",onClick:o.handleLogout},"Logout")):null,o.loggedOut?l.a.createElement("li",{className:"navLIRight"},l.a.createElement("a",{className:"navLink",href:"/signup"},"Signup")):null,o.loggedOut?l.a.createElement("li",{className:"navLIRight"},l.a.createElement("a",{className:"navLink",href:"/login"},"Login")):null)},j=a(33),v=a.n(j),y=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),o=Object(n.useState)({didApply:!1,isLoggedIn:!1,failedBoth:!1,failedMotivation:!1,failedCover:!1}),r=Object(u.a)(o,2),i=r[0],m=r[1];return i.handleApply=function(e){if(e.preventDefault(),"true"===sessionStorage.getItem("isLoggedIn")&&sessionStorage.getItem("token").length>0)if(m(Object(c.a)(Object(c.a)({},i),{},{isLoggedIn:!0})),""===t.current.value&&""===a.current.value)m(Object(c.a)(Object(c.a)({},i),{},{failedBoth:!0,failedMotivation:!1,failedCover:!1}));else if(""===t.current.value)m(Object(c.a)(Object(c.a)({},i),{},{failedBoth:!1,failedMotivation:!0,failedCover:!1}));else if(""===a.current.value)m(Object(c.a)(Object(c.a)({},i),{},{failedBoth:!1,failedMotivation:!1,failedCover:!0}));else{var n=v.a.stringify({motivation:t.current.value,cover_letter:a.current.value}),l=sessionStorage.getItem("jobID"),o=sessionStorage.getItem("token"),r={method:"post",url:"https://divercity-test.herokuapp.com/jobs/".concat(l,"/apply"),headers:{Authorization:o,"Content-Type":"application/x-www-form-urlencoded"},data:n};p()(r).then((function(e){e.data;m(Object(c.a)(Object(c.a)({},i),{},{didApply:!0}))})).catch((function(e){return console.log(e)}))}else alert("please log in to apply"),m(Object(c.a)(Object(c.a)({},i),{},{isLoggedIn:!1}))},l.a.createElement("div",{className:"mainArea"},l.a.createElement("div",null,l.a.createElement("h3",{id:"applicationTitle"},"Application for ",sessionStorage.getItem("title")),i.failedBoth?l.a.createElement("p",{style:{color:"#ef6461"}},"Please enter your information!"):null,i.failedMotivation?l.a.createElement("p",{style:{color:"#ef6461"}},"Please enter your motivation!"):null,l.a.createElement("label",{htmlFor:"motivation"},"Motivation"),l.a.createElement("br",null),l.a.createElement("textarea",{name:"motivation",id:"motivationInput",ref:t}),l.a.createElement("br",null),i.failedCover?l.a.createElement("p",{style:{color:"#ef6461"}},"Please enter your cover letter!"):null,l.a.createElement("label",{htmlFor:"coverLetter"},"Cover letter"),l.a.createElement("br",null),l.a.createElement("textarea",{name:"coverLetter",id:"coverLetterInput",ref:a}),l.a.createElement("br",null),i.didApply?l.a.createElement("div",null,l.a.createElement("h6",{id:"appSuccess"},"You have applied. Good luck!"),l.a.createElement(s.b,{to:"/search"},l.a.createElement("button",{className:"applicationBtn"},"Back to search")),l.a.createElement("br",null)):null,i.didApply?null:l.a.createElement("button",{onClick:i.handleApply,id:"applicationApplyBtn",className:"blockButton"},"Apply!")))},O=(a(64),function(e){return l.a.createElement(s.a,null,l.a.createElement(h,null),l.a.createElement(i.b,{exact:!0,path:"/",render:function(e){return l.a.createElement(m,null)}}),l.a.createElement(i.b,{path:"/login",render:function(e){return l.a.createElement(f,null)}}),l.a.createElement(i.b,{path:"/signup",render:function(e){return l.a.createElement(g,null)}}),l.a.createElement(i.b,{path:"/search",render:function(e){return l.a.createElement(E,null)}}),l.a.createElement(i.b,{path:"/apply",render:function(e){return l.a.createElement(y,null)}}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.575445bd.chunk.js.map